<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Equipamentos - QAT LAB</title>
    <link rel="stylesheet" href="equipamentos.css">
</head>
<body>
    <div class="equipamentos-container">
        <header class="header">
            <button class="back-button" onclick="goBack()">← Voltar</button>
            <h1>Controle de Equipamentos</h1>
        </header>
        
        <div class="content-grid">
            <!-- Formulário de Cadastro de Equipamentos -->
            <div class="form-section">
                <h2>Cadastro de Equipamentos</h2>
                <form id="equipment-form">
                    <div class="form-group">
                        <label for="equipment-name">Nome do Equipamento:</label>
                        <input type="text" id="equipment-name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="equipment-type">Tipo:</label>
                        <select id="equipment-type" required>
                            <option value="">Selecione...</option>
                            <option value="balanca">Balança</option>
                            <option value="microscópio">Microscópio</option>
                            <option value="centrifuga">Centrífuga</option>
                            <option value="estufa">Estufa</option>
                            <option value="autoclave">Autoclave</option>
                            <option value="espectrofotometro">Espectrofotômetro</option>
                            <option value="phmetro">pHmetro</option>
                            <option value="agitador">Agitador Magnético</option>
                            <option value="outros">Outros</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="equipment-location">Localização:</label>
                        <input type="text" id="equipment-location" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="equipment-status">Status:</label>
                        <select id="equipment-status" required>
                            <option value="ativo">Ativo</option>
                            <option value="manutencao">Em Manutenção</option>
                            <option value="inativo">Inativo</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="equipment-date">Data de Aquisição:</label>
                        <input type="date" id="equipment-date" required>
                    </div>
                    
                    <button type="submit" class="submit-btn">Cadastrar Equipamento</button>
                </form>
            </div>
            
            <!-- Formulário de Manutenção -->
            <div class="form-section">
                <h2>Registro de Manutenção</h2>
                <form id="maintenance-form">
                    <div class="form-group">
                        <label for="maintenance-equipment">Equipamento:</label>
                        <select id="maintenance-equipment" required>
                            <option value="">Selecione um equipamento...</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="maintenance-type">Tipo de Manutenção:</label>
                        <select id="maintenance-type" required>
                            <option value="preventiva">Preventiva</option>
                            <option value="corretiva">Corretiva</option>
                            <option value="calibracao">Calibração</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="maintenance-description">Descrição:</label>
                        <textarea id="maintenance-description" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="maintenance-date">Data da Manutenção:</label>
                        <input type="date" id="maintenance-date" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="maintenance-cost">Custo (R$):</label>
                        <input type="number" id="maintenance-cost" step="0.01">
                    </div>
                    
                    <button type="submit" class="submit-btn">Registrar Manutenção</button>
                </form>
            </div>
        </div>
        
        <!-- Tabela de Equipamentos -->
        <div class="table-section">
            <div class="table-header">
                <h2>Lista de Equipamentos</h2>
                <div class="table-controls">
                    <input type="text" id="search-equipment" placeholder="Buscar equipamento..." onkeyup="filterEquipments()">
                    <select id="filter-status" onchange="filterEquipments()">
                        <option value="">Todos os Status</option>
                        <option value="ativo">Ativo</option>
                        <option value="manutencao">Em Manutenção</option>
                        <option value="inativo">Inativo</option>
                    </select>
                </div>
            </div>
            
            <table id="equipments-table">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Tipo</th>
                        <th>Localização</th>
                        <th>Status</th>
                        <th>Data Aquisição</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody id="equipments-tbody">
                </tbody>
            </table>
        </div>
        
        <!-- Seção de Exportação e Gráficos -->
        <div class="actions-section">
            <div class="export-menu">
                <h3>Exportar Dados</h3>
                <button class="action-btn" onclick="exportToPDF()">Exportar PDF</button>
                <button class="action-btn" onclick="exportToCSV()">Exportar CSV</button>
            </div>
            
            <div class="charts-menu">
                <h3>Gráficos</h3>
                <button class="action-btn" onclick="showBarChart()">Gráfico de Barras</button>
                <button class="action-btn" onclick="showPieChart()">Gráfico de Pizza</button>
                <button class="action-btn" onclick="showLineChart()">Gráfico de Linha</button>
                <button class="action-btn" onclick="openPowerBI()">Dashboard Power BI</button>
            </div>
        </div>
        
        <!-- Modal para Gráficos -->
        <div id="chart-modal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <canvas id="chart-canvas"></canvas>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="equipamentos.js"></script>
</body>
</html>